<body>
    <br />



    <app-header-dashboard></app-header-dashboard>

    <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
        id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
        <div class="offcanvas-header">
            <a class="navbar-brand" routerLink="/professional">
                <img src="assets/img/téléchargement.png" width="200" alt="" />
            </a>
            <button type="button" class="btn-close btn-close-custom text-reset" data-bs-dismiss="offcanvas"
                aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul>
                <li class="bg-danger px-4 py-2-5 rounded-3 cursor-pointer">
                    <a routerLink="/dossier">
                        <img src="assets/img/png-clipart-computer-icons-medicine-medical-record-health-health-text-medical.svg"
                            alt="" class="" />
                        <span class="ms-2 fs-6 d-inline-block mt-1">Resumé_Dossier</span>
                    </a>
                </li>
                <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <img src="assets/img/my-profile.svg" alt="" class="" />
                    <span class="ms-2 fs-6 d-inline-block text-inf mt-1">My Profile</span>
                </li>
                <!-- <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                <img src="assets/img/appointment.svg" alt="" class="" />
                <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Appointment</span>
            </li> -->


                <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/acueilDossier">
                        <img src="assets/img/dos.svg" alt="" class="" />
                        <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Anciens_Patients</span>
                    </a>

                </li>
                <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/dossierNouveaux">
                        <img src="assets/img/dos.svg" alt="" class="" />
                        <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Nouveaux_Patients</span>
                    </a>

                </li>




                <!--             
                <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/ordonance">
                    <img src="assets/img/3410626.svg" alt="" class="" width="40" />
                    <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Ordonance</span>
                </a>
                </li> -->




                <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/medicament">
                        <img src="assets/img/images.svg" />
                        <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Medicaments</span>
                    </a>
                </li>


                <!-- <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/prescription">
                    <img src="assets/img/prescription-icon-18.svg" alt="" class="" />
                    <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Prescriptions</span>
                </a>
                </li> -->


                <!-- <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/consultation">
                    <img src="assets/img/102-1026499_consultation-free-doctor-consultation-icon-clipart.svg" alt="" class="" />
                    <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Consultation</span>
                </a>
                </li> -->


                <!-- <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/lettre">
                    <img src="assets/img/images (1).png" alt="" class="" width="42" height="42" />
                    <span class="ms-2 fs-6 d-inline-block text-inf mt-1">L.Confidentielle</span>
                </a>
                </li> -->


                <li class="px-4 py-2-5 rounded-3 cursor-pointer hover-bg-danger">
                    <a routerLink="/patient">
                        <img src="assets/img/pattients.svg" />
                        <span class="ms-2 fs-6 d-inline-block text-inf mt-1">Patients</span>
                    </a>
                </li>


            </ul>

        </div>
    </div>


    <br />
    <div class="container">
        <div class="card" style=" top: 10px; left: 200px ">
            <br />
            <h2 class="text-center"> Dossier médical </h2>
            <div class="card-body">
                <!-- Content here -->


                <br />
                <!-- <table  class="table table-striped" style=" top: 280px; left: 100px" >
          <thead>
            <th >idFiche</th>
            <th >observation</th>
            <th >Date_Creation</th>
            
            
          </thead>
          <tbody>
            <tr *ngFor="let f of listFiches">
              <td>{{f.idFiche}}</td>
              <td>{{f.observation}}</td>
              <td>{{f.dateCreation}}</td>
            
              
              
            </tr>
          </tbody>
  
  
        </table> -->

                <div class="menu-container" class="center">

                    <div class="card-body" *ngIf="dossier">
                        <div class="menu-toggler" (click)="toggleMenu()">
                            <pre>✵ Dossier N°:{{dossier.numDossier}}                                                                                                ✵ Date_Creation: {{dossier.dateCreation| date: "longDate"}}</pre>

                        </div>

                        <div class="menu" *ngIf="isMenuOpened">
                            <!-- <div class="menu-item">Id idFiche </div>
                        <div class="menu-item">Observation </div>
                        <div class="menu-item">Date_Creation </div> -->

                            <div class="card-body">

                                <div class="left">
                                    <img class="lefto" src="assets/img/icone_historique.svg" width="30" height="30"
                                        alt="" title="" />
                                    <div class="btn_report my-2 my-sm-0" id="leftbtn"><button pButton type="button"
                                            label="Historique de patient" class="p-button-link"
                                            [routerLink]="['detailPatient',dossier?.patient?.idPatient]"></button> </div>
                                    <img src="assets/img/3135715.png" width="240" height="220" alt="" title="" />
                                </div>
                                <br />
                                <br />
                                <p>&#9788; Nom & Prenom de patient :</p>
                                <pre>                                             {{dossier?.patient?.cnss}}  {{dossier?.patient?.assurance}}                                </pre>

                                <br />
                                <br />
                                <br />
                                <br />
                                <br />
                                <br />

                                <hr />
                                <p>&#9788; Code_Acce :</p>
                                <pre>                        &#9788; {{dossier.codeAcce }} </pre>

                                <hr />
                                <p>&#9788; Observation : </p>
                                <pre>                        &#9788; {{dossier.observation}} </pre>
                                <hr />
                                <p>&#9788; Poids:</p>
                                <pre>                        &#9788;  {{dossier.poids}} </pre>

                                <hr />
                                <p>&#9788; Taille:</p>
                                <pre>                        &#9788;  {{dossier.taille}} </pre>
                                <hr />
                                <p>&#9788;Perimetre_Carnien:</p>
                                <pre>                        &#9788;  {{dossier.perimetreCarnien }} </pre>
                                <hr />
                                <p>&#9788; Sang:</p>
                                <pre>                         &#9788;  {{dossier.sang }} </pre>
                                <hr />
                               
                                <hr />
                                <p>&#9788; Fiche_Consultation</p>
                                
                                <p-dialog  [(visible)]="displayfiche" [dismissableMask]="true" [baseZIndex]="10000"  [modal]="true" [style]="{width: '60vw'}"
                                    [draggable]="false" [resizable]="false"> 
                                  
                                    <p class="text-center">Fiche_Consultation de dossier N° {{dossier.idDossier}}</p>
                                   <p-table [value]="listFiches" [autoLayout]="true">
                                    
                                    <ng-template pTemplate="header">
                                       
                                        <tr>
                                            
                                            <th class="colonne" style="min-width:200px">N°_Fiche</th>
                                            <th class="colonne" style="min-width:200px">Observation</th>
                                            <th class="colonne" style="min-width:200px">Date_Creation</th>
                                            <th class="colonne" style="min-width:200px">Resultat_Analyse</th>
                                            <th class="colonne" style="min-width:200px">Observation_Analyse</th>
                                            <th class="colonne" style="min-width:200px">Date_Analyse</th>
                                            <th class="colonne" style="min-width:200px">Laboratoire_Analyse</th>
                                            <th class="colonne" style="min-width:200px">Type_Analyse</th>
                                            <th class="colonne" style="min-width:200px">Motif_Analyse</th>
                                            <th class="colonne" style="min-width:200px">Resultat_Radio</th>
                                            <th class="colonne" style="min-width:200px">Observation_Radio</th>
                                            <th class="colonne" style="min-width:200px">Date_Radio</th>
                                            <th class="colonne" style="min-width:200px">Laboratoire_Radio</th>
                                            <th class="colonne" style="min-width:200px">Type_Radio</th>
                                            <th class="colonne" style="min-width:200px">Motif_Radio</th>
                                            <th class="colonne" style="min-width:200px">Rendu_Consultation</th>
                                            <th class="colonne" style="min-width:200px">Lieu_Consultation</th>
                                            <th class="colonne" style="min-width:200px">Date_Consultation</th>
                                            <th class="colonne" style="min-width:200px">Etat_Consultation</th>
                                            <th class="colonne" style="min-width:200px">Date_Certificat</th>
                                            <th class="colonne" style="min-width:200px">Contenu_Certificat</th>
                                            <th class="colonne" style="min-width:200px">Date_Ordonance</th>
                                            <th class="colonne" style="min-width:200px">Num_Ordonance</th>
                                            <th class="colonne" style="min-width:200px">Etat_Ordonance</th>
                                            
                
                                         
                
                                        </tr>
                
                                      </ng-template>
                                    <ng-template pTemplate="body" let-f>
                                        <tr>

                                            <td class="colonne" style="min-width:200px">{{f.idFiche}}</td>
                                            <td class="colonne" style="min-width:200px">{{f.observation}}</td>
                                            <td class="colonne" style="min-width:200px">{{f.dateCreation | date: "longDate"}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.analyse?.resultat}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.analyse?.observation}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.analyse?.dateAnalyse | date: "longDate"}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.analyse?.etablissement}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.analyse?.type}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.analyse?.motif}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.radio?.resultat}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.radio?.observation}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.radio?.dateOperation | date: "longDate"}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.radio?.etablissement}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.radio?.type}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.radio?.motif}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.observation}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.lieu}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.dateConsultation | date: "longDate"}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.etat}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.certificat?.dateCertificat}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.certificat?.contenu}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.ordonance?.dateOrdonance}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.ordonance?.numOrdonance}}</td>
                                            <td class="colonne" style="min-width:200px">{{f?.consultation?.ordonance?.etat}}</td>
                                            
                  
                                                
                  
                                          </tr>
                  
                                        </ng-template>
                            </p-table> 
                                </p-dialog>
                                <div class="btn_report my-2 my-sm-0" id="right"><button pButton type="button"
                                        class="btn btn-primary py-1 px-2 me-2" icon="fa fa-eye" pButton
                                        (click)="AfficherFiche()" label="Consulter"></button> </div>

                                <hr />

                                <p>&#9788; Lettre_Confidentielle</p>
                                
                                <p-dialog  [(visible)]="display" [dismissableMask]="true" [baseZIndex]="10000"  [modal]="true" [style]="{width: '60vw'}"
                                    [draggable]="false" [resizable]="false"> 
                                  
                                    <p class="text-center">Lettre_Confidentielle de dossier N° {{dossier.idDossier}}</p>
                                   <p-table [value]="listeLettre" [autoLayout]="true">
                                    
                                    <ng-template pTemplate="header">
                                       
                                        <tr>
                                            
                                          <th class="colonne">N°_Lettre
                
                                          </th>
                
                                          <th class="colonne">Observation 
                
                                          </th>
                
                                          <th class="colonne">Date_Lettre
                
                                          </th>
                
                                         
                
                                        </tr>
                
                                      </ng-template>
                                    <ng-template pTemplate="body" let-l>
                                        <tr>

                                            <td class="colonne">{{l.idLettre}}</td>
                  
                                            <td class="colonne">{{l.observation}}</td>
                  
                                            <td class="colonne">{{l.dateLettre}}</td>
                  
                                            
                  
                                                
                  
                                          </tr>
                  
                                        </ng-template>
                            </p-table> 
                                </p-dialog>
                                
                                <button pButton type="button" id="right"
                                        class="btn btn-primary py-1 px-2 me-2" icon="fa fa-eye" pButton
                                        (click)="AfficherLettre()" label="Consulter"></button> </div>

                                <hr />

                                <hr />

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />

        <footer>

            <app-footer></app-footer>
        </footer>