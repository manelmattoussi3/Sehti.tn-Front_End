<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login | Sehti</title>

</head>

<body>
  <app-header></app-header>
  <!-- end navbar -->

  <!-- main -->

  <main>

    <div class="login-screen">
      <div class="col-md-6 mx-auto text-center h-full d-lg-flex align-items-center">
        <div class="card">
          <div class="my-5">

            <h1>Register to <span class="text-primary">sehti.tn</span></h1>
            <br />
            <br />

            <form [formGroup]="signUpForm" enctype="multipart/form-data">

              <div class="mb-3 px-lg-5 mx-lg-5">
                <input type="text" pInputText class="form-control py-2-5 px-3" id="username"
                  placeholder="Nom d'utilisateur" pInputText [formControlName]="'username'"
                  [ngClass]="!signUpForm.controls['username'].valid && signUpForm.controls['username']?.touched?'ng-invalid ng-dirty':''"
                  required>
                <small class="text-red-500"
                  *ngIf="signUpForm.controls['username'].hasError('required') && signUpForm.controls['username']?.touched"
                  style="color: #f44336;">nom est obligatoire </small>
                <small class="text-red-500"
                  *ngIf="signUpForm.controls['username'].hasError('pattern') && signUpForm.controls['username']?.touched"
                  style="color: #f44336;">Le nom doit contenir des lettres</small>
              </div>
              <div class="mb-3 px-lg-5 mx-lg-5">
                <input type="email" pInputText class="form-control py-2-5 px-3" id="email" placeholder="Email"
                  [formControlName]="'email'"
                  [ngClass]="!signUpForm.controls['email'].valid && signUpForm.controls['email']?.touched?'ng-invalid ng-dirty':''"
                  required>
                <small class="text-red-500"
                  *ngIf="signUpForm.controls['email'].hasError('required') && signUpForm.controls['email']?.touched"
                  style="color: #f44336;">email est obligatoire </small>
                <small class="text-red-500"
                  *ngIf="signUpForm.controls['email'].hasError('email') && signUpForm.controls['email']?.touched"
                  style="color: #f44336;">Veuillez entrer une adresse e-mail valide!</small>
              </div>
              <div class="col">
                <div class="mb-3 px-lg-5 mx-lg-5">
                  <input [style]="{height: '3vw',width: '19vw'}" type="password" pPassword [feedback]="false"
                    id="password" placeholder="Mot de passe" [formControlName]="'password'" [ngClass]="!signUpForm.controls['password'].valid && signUpForm.controls['password']?.touched?'ng-invalid ng-dirty':''"
                    required>
                    <br>
                  <small class="text-red-500"
                    *ngIf="signUpForm.controls['password'].hasError('required') && signUpForm.controls['password']?.touched"
                    style="color: #f44336;">Mot de pass est obligatoire </small>
                  <small class="text-red-500"
                    *ngIf="signUpForm.controls['password'].hasError('pattern') && signUpForm.controls['password']?.touched"
                    style="color: #f44336;">Le mot de passe doit contenir <br> au minimum 6 caractères, <br>
                    à savoir : au moins une lettre <br> minuscule, une lettre majuscule,<br> et un chiffre.</small>

                </div>
              </div>
              <div class="col">
              <div class="mb-3 px-lg-5 mx-lg-5">
                <input [style]="{height: '3vw',width: '19vw'}" type="password" pPassword [feedback]="false"
                  id="confirmPassword" placeholder="Confirmer votre mot de passe" [formControlName]="'confirmPassword'" [ngClass]="!signUpForm.controls['confirmPassword'].valid && signUpForm.controls['confirmPassword']?.touched?'ng-invalid ng-dirty':''"
                  required>
                  <br>
                <small class="text-red-500"
                  *ngIf="signUpForm.controls['confirmPassword'].hasError('required') && signUpForm.controls['confirmPassword']?.touched"
                  style="color: #f44336;">Ce champ est obligatoire </small>
                <small class="text-red-500"
                  *ngIf="signUpForm.controls['confirmPassword'].hasError('mustMatch') && signUpForm.controls['confirmPassword']?.touched"
                  style="color: #f44336;">veuillez confirmer votre mot de passe !</small>

              </div>
            </div>
           
              <!-- <div class="mb-3 px-lg-5 mx-lg-5">
                <label class="py-2-5 px-3">S'inscrire en tant que</label>
              </div> -->
              <div class="col">
              <div class="mb-3 px-lg-5 mx-lg-5">
               <pre class="font">S'inscrire en tant que</pre>
              <select [style]="{height: '3vw',width: '19vw'}" class="form-control py-2-5 px-3" name="role" id="role" [formControlName]="'role'"
                (change)="onChange($event)"   >
                <option value="PROFESSIONNEL"> Professionnel de santé </option>
                <option value="PATIENT" selected={{selected}}> Patient </option>
              </select>
              </div>
              </div>
              <div *ngIf="!hidden">
                <label for="diplome">Diplome: </label>
                <input class="mt-3 mb-5" type="file" id="diplome" name="diplome" accept="image/png, image/jpeg"
                  (change)="diplomeChange($event)" /> <br>


                <label for="affiliation">Affiliation: </label>
                <input class="mt-3 mb-5" type="file" id="affiliation" name="affiliation" accept="image/png, image/jpeg"
                  (change)="affiliationChange($event)" />
              </div>


              <div class="mb-3 px-lg-5 mx-lg-5">
                <button class="btn btn-primary py-2-5 w-100" [disabled]="signUpForm.disabled"
                  (click)="signUp()">Register</button>
              </div>
              <div class="mb-3 mt-4 px-lg-5 mx-lg-5 text-start">
                <p class="text-light">
                  Already have an account ? <a href="">login</a>
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
  <!-- end main -->

</body>

</html>